import{_ as s,p as i,q as l,Q as a,R as e,t,a1 as n}from"./framework-5866ffd3.js";const c={},r=e("h1",{id:"webstorm-less-编译-压缩-源映射",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#webstorm-less-编译-压缩-源映射","aria-hidden":"true"},"#"),t(" WebStorm-Less 编译&压缩&源映射")],-1),o=e("p",null,"现在的网页很多使用 SCSS、Less 编译后的 CSS 文件，对于维护调试来说都有一定影响(浏览器上看到的是.css，开发者调整的是.less、.scss)，这时候我们就需要用到源映射(Source Map)",-1),p=n(`<p>安装 less</p><div class="language-base line-numbers-mode" data-ext="base"><pre class="language-base"><code>npm install -g less
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装 less-plugin-clean-css(压缩插件，注意路径与 less 在同个 node_modules 下，一般全局安装都是在一起的)</p><div class="language-base line-numbers-mode" data-ext="base"><pre class="language-base"><code>npm install -g less-plugin-clean-css
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>配置 WebStorm(2016.3.3)</p><blockquote><ul><li>WebStorm 2016.3.3</li><li>Build #WS-163.12024.17, built on January 31, 2017</li><li>Licensed to lan yu</li><li>Subscription is active until November 23, 2017</li><li>JRE: 1.8.0_112-release-408-b6 x86</li><li>JVM: OpenJDK Server VM by JetBrains s.r.o</li></ul></blockquote><ul><li><p>打开 WebStorm：File(文件)-&gt;Settings (设置)-&gt;Tools(工具集)-&gt;File Watchers -&gt;&#39;+&#39;(添加)</p></li><li><p>Program 里设置的是 lessc 的路径(自动查找，我的是 C:\\Users\\Administrator\\AppData\\Roaming\\npm\\lessc.cmd)</p></li><li><p>Arguments 参数：</p><ul><li>(生成.map 文件和.css 文件)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>--no-color $FileName$ $FileNameWithoutExtension$.css --source-map=$FileNameWithoutExtension$.css.map
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>(生成.map 文件和压缩后的.css 文件)</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>--no-color --plugin=less-plugin-clean-css $FileName$ $FileNameWithoutExtension$.css --source-map=$FileNameWithoutExtension$.css.map
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Output paths to refresh 为空</p></li></ul><p>最终配置如下图：</p><p><img src="https://img.sinea.cn/20170303-01.png" alt="image-01"></p><p>在 WebStorm 中编辑.less 文件后</p><p><img src="https://img.sinea.cn/20170303-02.png" alt="image-02"></p><p>生成的.css（less-plugin-clean-css 压缩）</p><p><img src="https://img.sinea.cn/20170303-05.png" alt="image-05"></p><p>浏览器中看到的标签样式</p><p><img src="https://img.sinea.cn/20170303-03.png" alt="image-03"></p><p>点击它们看到的是.less 源文件</p><p><img src="https://img.sinea.cn/20170303-04.png" alt="image-04"></p><blockquote><p>tips：浏览器开发者工具(F12)勾选&quot;Enable Source Maps&quot; 选项来设置是否需要加载源映射</p></blockquote>`,18);function m(d,u){return i(),l("div",null,[r,o,a("more"),p])}const b=s(c,[["render",m],["__file","WebStorm-Less编译、压缩、源映射.html.vue"]]);export{b as default};
